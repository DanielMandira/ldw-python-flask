{% extends 'base.html' %}

{% block title %}Editar {{ car.marca }} {{ car.modelo }} - CarDream{% endblock %}

{% block content %}
<section class="form-section nurbg">
    <div class="form-container">
        <h2><i class="fas fa-edit"></i> Editar Carro</h2>
        <form action="{{ url_for('editar_carro', id=car.id) }}" method="POST" enctype="multipart/form-data" class="car-form">
            <div class="form-group">
                <label for="marca">
                    <i class="fas fa-trademark"></i> Marca
                </label>
                <input type="text" id="marca" name="marca" required value="{{ car.marca }}" placeholder="Ex: Ferrari">
            </div>
            
            <div class="form-group">
                <label for="modelo">
                    <i class="fas fa-car-side"></i> Modelo
                </label>
                <input type="text" id="modelo" name="modelo" required value="{{ car.modelo }}" placeholder="Ex: F40">
            </div>
            
            <div class="form-group">
                <label for="ano">
                    <i class="fas fa-calendar"></i> Ano
                </label>
                <input type="number" id="ano" name="ano" required min="1900" max="2024" value="{{ car.ano }}" placeholder="Ex: 1990">
            </div>

            <div class="form-group">
                <label for="descricao">
                    <i class="fas fa-align-left"></i> Descrição
                </label>
                <textarea id="descricao" name="descricao" rows="4" placeholder="Descreva as características do carro...">{{ car.descricao }}</textarea>
            </div>

            <div class="form-group">
                <label for="potencia">
                    <i class="fas fa-horse"></i> Potência (cv)
                </label>
                <input type="number" id="potencia" name="potencia" min="0" value="{{ car.potencia }}" placeholder="Ex: 478">
            </div>

            <div class="form-group">
                <label for="categoria">
                    <i class="fas fa-tags"></i> Categoria
                </label>
                <select id="categoria" name="categoria" required>
                    <option value="">Selecione uma categoria</option>
                    <option value="esportivo" {% if car.categoria == 'esportivo' %}selected{% endif %}>Esportivo</option>
                    <option value="classico" {% if car.categoria == 'classico' %}selected{% endif %}>Clássico</option>
                    <option value="supercarro" {% if car.categoria == 'supercarro' %}selected{% endif %}>Supercarro</option>
                    <option value="muscle" {% if car.categoria == 'muscle' %}selected{% endif %}>Muscle Car</option>
                </select>
            </div>
            
            <div class="form-group file-upload">
                <label for="foto">
                    <i class="fas fa-camera"></i> Foto do Carro
                </label>
                <div class="file-input-wrapper">
                    <input type="file" id="foto" name="foto" accept="image/*">
                    <div class="file-preview">
                        <img id="preview" src="{{ url_for('static', filename='uploads/' ~ car.foto) }}" alt="Foto atual">
                        <span>Clique para alterar a foto</span>
                    </div>
                </div>
            </div>
            
            <div class="form-actions">
                <button type="submit" class="submit-btn">
                    <i class="fas fa-save"></i> Salvar Alterações
                </button>
                <a href="{{ url_for('carro', id=car.id) }}" class="cancel-btn">
                    <i class="fas fa-times"></i> Cancelar
                </a>
            </div>
        </form>
    </div>
</section>
{% endblock %} 